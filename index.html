<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blog</title>
    <style>
        body { font-family: Arial, sans-serif; background: #121212; color: white; text-align: center; }
        .navbar { background: #333; padding: 15px; position: fixed; top: 0; width: 100%; }
        .navbar a { color: white; margin: 0 15px; text-decoration: none; font-weight: bold; }
        .container { margin-top: 60px; max-width: 800px; margin-left: auto; margin-right: auto; }
        .post-title { background: #222; padding: 15px; cursor: pointer; margin: 10px 0; border-radius: 5px; }
        .post-content { display: none; padding: 15px; background: #1e1e1e; border-radius: 5px; }
        .admin-tools { display: none; margin-top: 20px; }
        canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; }
    </style>
</head>
<body>
    <canvas id="starCanvas"></canvas>
    <div class="navbar">
        <a href="mailto:qbaa134@gmail.com">Kontakt</a>
        <a href="#about">O mnie</a>
        <a href="https://github.com/qbaa134" target="_blank">GitHub</a>
    </div>

    <div class="container" id="posts"></div>

    <div class="admin-tools" id="adminTools">
        <h3>Dodaj Post</h3>
        <input type="text" id="title" placeholder="Tytuł"><br>
        <textarea id="content" placeholder="Treść"></textarea><br>
        <button onclick="addPost()">Dodaj</button>
    </div>

    <script>
        const username = "admin";
        const password = "tajnehaslo";  // Ustal własne
        let isAdmin = false;

        function loadPosts() {
            const posts = JSON.parse(localStorage.getItem("posts")) || [];
            const container = document.getElementById("posts");
            container.innerHTML = "";
            posts.forEach((post, index) => {
                container.innerHTML += `
                    <div class='post-title' onclick='togglePost(${index})'>${post.title}</div>
                    <div class='post-content' id='content-${index}'>${post.content}</div>
                `;
            });
        }

        function togglePost(index) {
            const content = document.getElementById(`content-${index}`);
            content.style.display = content.style.display === "block" ? "none" : "block";
        }

        function login() {
            const user = prompt("Podaj login:");
            const pass = prompt("Podaj hasło:");
            if (user === username && pass === password) {
                alert("Zalogowano jako admin");
                isAdmin = true;
                document.getElementById("adminTools").style.display = "block";
            } else {
                alert("Błędne dane logowania!");
            }
        }

        function addPost() {
            if (!isAdmin) return alert("Brak dostępu!");
            const title = document.getElementById("title").value;
            const content = document.getElementById("content").value;
            if (title && content) {
                let posts = JSON.parse(localStorage.getItem("posts")) || [];
                posts.push({ title, content });
                localStorage.setItem("posts", JSON.stringify(posts));
                loadPosts();
            }
        }

        function drawStarAnimation() {
            const canvas = document.getElementById("starCanvas");
            const ctx = canvas.getContext("2d");
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            
            ctx.strokeStyle = "yellow";
            ctx.lineWidth = 3;
            
            let points = [
                [canvas.width / 2, canvas.height / 4],
                [canvas.width * 0.6, canvas.height * 0.8],
                [canvas.width * 0.2, canvas.height * 0.4],
                [canvas.width * 0.8, canvas.height * 0.4],
                [canvas.width * 0.4, canvas.height * 0.8]
            ];
            
            let index = 0;
            function draw() {
                if (index < points.length) {
                    ctx.lineTo(points[index][0], points[index][1]);
                    ctx.stroke();
                    index++;
                    setTimeout(draw, 300);
                } else {
                    setTimeout(() => {
                        canvas.style.display = "none";
                    }, 1000);
                }
            }
            
            ctx.beginPath();
            ctx.moveTo(points[0][0], points[0][1]);
            draw();
        }

        window.onload = () => {
            drawStarAnimation();
            setTimeout(loadPosts, 2000);
            if (confirm("Czy chcesz się zalogować jako admin?")) login();
        };
    </script>
</body>
</html>
